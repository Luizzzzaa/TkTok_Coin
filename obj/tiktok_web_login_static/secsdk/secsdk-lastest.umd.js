/*!
* @byted/secsdk v1.2.13
* (c) 2023
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).secsdk={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}var o,i,a=r(n((function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),s=function(e){return e&&e.Math==Math&&e},u=s("object"==("undefined"==typeof globalThis?"undefined":a(globalThis))&&globalThis)||s("object"==("undefined"==typeof window?"undefined":a(window))&&window)||s("object"==("undefined"==typeof self?"undefined":a(self))&&self)||s("object"==a(t)&&t)||function(){return this}()||Function("return this")(),c=function(e){try{return!!e()}catch(t){return!0}},f=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l=!c((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),h=Function.prototype.call,p=l?h.bind(h):function(){return h.apply(h,arguments)},d={}.propertyIsEnumerable,v=Object.getOwnPropertyDescriptor,g={f:v&&!d.call({1:2},1)?function(e){var t=v(this,e);return!!t&&t.enumerable}:d},m=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},y=Function.prototype,w=y.call,b=l&&y.bind.bind(w,w),S=l?b:function(e){return function(){return w.apply(e,arguments)}},k=S({}.toString),L=S("".slice),P=function(e){return L(k(e),8,-1)},R=Object,O=S("".split),j=c((function(){return!R("z").propertyIsEnumerable(0)}))?function(e){return"String"==P(e)?O(e,""):R(e)}:R,E=function(e){return null==e},T=TypeError,A=function(e){if(E(e))throw T("Can't call method on "+e);return e},x=function(e){return j(A(e))},M="object"==("undefined"==typeof document?"undefined":a(document))&&document.all,C={all:M,IS_HTMLDDA:void 0===M&&void 0!==M},H=C.all,U=C.IS_HTMLDDA?function(e){return"function"==typeof e||e===H}:function(e){return"function"==typeof e},q=C.all,I=C.IS_HTMLDDA?function(e){return"object"==a(e)?null!==e:U(e)||e===q}:function(e){return"object"==a(e)?null!==e:U(e)},F=function(e){return U(e)?e:void 0},_=function(e,t){return arguments.length<2?F(u[e]):u[e]&&u[e][t]},D=S({}.isPrototypeOf),N="undefined"!=typeof navigator&&String(navigator.userAgent)||"",B=u.process,X=u.Deno,z=B&&B.versions||X&&X.version,G=z&&z.v8;G&&(i=(o=G.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!i&&N&&(!(o=N.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=N.match(/Chrome\/(\d+)/))&&(i=+o[1]);var V=i,W=!!Object.getOwnPropertySymbols&&!c((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V&&V<41})),$=W&&!Symbol.sham&&"symbol"==a(Symbol.iterator),J=Object,K=$?function(e){return"symbol"==a(e)}:function(e){var t=_("Symbol");return U(t)&&D(t.prototype,J(e))},Q=String,Y=function(e){try{return Q(e)}catch(t){return"Object"}},Z=TypeError,ee=function(e){if(U(e))return e;throw Z(Y(e)+" is not a function")},te=function(e,t){var r=e[t];return E(r)?void 0:ee(r)},re=TypeError,ne=Object.defineProperty,oe=function(e,t){try{ne(u,e,{value:t,configurable:!0,writable:!0})}catch(r){u[e]=t}return t},ie=u["__core-js_shared__"]||oe("__core-js_shared__",{}),ae=n((function(e){(e.exports=function(e,t){return ie[e]||(ie[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.0",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.0/LICENSE",source:"https://github.com/zloirock/core-js"})})),se=Object,ue=function(e){return se(A(e))},ce=S({}.hasOwnProperty),fe=Object.hasOwn||function(e,t){return ce(ue(e),t)},le=0,he=Math.random(),pe=S(1..toString),de=function(e){return"Symbol("+(void 0===e?"":e)+")_"+pe(++le+he,36)},ve=u.Symbol,ge=ae("wks"),me=$?ve.for||ve:ve&&ve.withoutSetter||de,ye=function(e){return fe(ge,e)||(ge[e]=W&&fe(ve,e)?ve[e]:me("Symbol."+e)),ge[e]},we=TypeError,be=ye("toPrimitive"),Se=function(e,t){if(!I(e)||K(e))return e;var r,n=te(e,be);if(n){if(void 0===t&&(t="default"),r=p(n,e,t),!I(r)||K(r))return r;throw we("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var r,n;if("string"===t&&U(r=e.toString)&&!I(n=p(r,e)))return n;if(U(r=e.valueOf)&&!I(n=p(r,e)))return n;if("string"!==t&&U(r=e.toString)&&!I(n=p(r,e)))return n;throw re("Can't convert object to primitive value")}(e,t)},ke=function(e){var t=Se(e,"string");return K(t)?t:t+""},Le=u.document,Pe=I(Le)&&I(Le.createElement),Re=function(e){return Pe?Le.createElement(e):{}},Oe=!f&&!c((function(){return 7!=Object.defineProperty(Re("div"),"a",{get:function(){return 7}}).a})),je=Object.getOwnPropertyDescriptor,Ee={f:f?je:function(e,t){if(e=x(e),t=ke(t),Oe)try{return je(e,t)}catch(r){}if(fe(e,t))return m(!p(g.f,e,t),e[t])}},Te=f&&c((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ae=String,xe=TypeError,Me=function(e){if(I(e))return e;throw xe(Ae(e)+" is not an object")},Ce=TypeError,He=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,qe={f:f?Te?function(e,t,r){if(Me(e),t=ke(t),Me(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=Ue(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return He(e,t,r)}:He:function(e,t,r){if(Me(e),t=ke(t),Me(r),Oe)try{return He(e,t,r)}catch(n){}if("get"in r||"set"in r)throw Ce("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},Ie=f?function(e,t,r){return qe.f(e,t,m(1,r))}:function(e,t,r){return e[t]=r,e},Fe=Function.prototype,_e=f&&Object.getOwnPropertyDescriptor,De=fe(Fe,"name"),Ne={EXISTS:De,PROPER:De&&"something"===function(){}.name,CONFIGURABLE:De&&(!f||f&&_e(Fe,"name").configurable)},Be=S(Function.toString);U(ie.inspectSource)||(ie.inspectSource=function(e){return Be(e)});var Xe,ze,Ge,Ve=ie.inspectSource,We=u.WeakMap,$e=U(We)&&/native code/.test(String(We)),Je=ae("keys"),Ke=function(e){return Je[e]||(Je[e]=de(e))},Qe={},Ye=u.TypeError,Ze=u.WeakMap;if($e||ie.state){var et=ie.state||(ie.state=new Ze);et.get=et.get,et.has=et.has,et.set=et.set,Xe=function(e,t){if(et.has(e))throw Ye("Object already initialized");return t.facade=e,et.set(e,t),t},ze=function(e){return et.get(e)||{}},Ge=function(e){return et.has(e)}}else{var tt=Ke("state");Qe[tt]=!0,Xe=function(e,t){if(fe(e,tt))throw Ye("Object already initialized");return t.facade=e,Ie(e,tt,t),t},ze=function(e){return fe(e,tt)?e[tt]:{}},Ge=function(e){return fe(e,tt)}}var rt,nt={set:Xe,get:ze,has:Ge,enforce:function(e){return Ge(e)?ze(e):Xe(e,{})},getterFor:function(e){return function(t){var r;if(!I(t)||(r=ze(t)).type!==e)throw Ye("Incompatible receiver, "+e+" required");return r}}},ot=n((function(e){var t=Ne.CONFIGURABLE,r=nt.enforce,n=nt.get,o=String,i=Object.defineProperty,a=S("".slice),s=S("".replace),u=S([].join),l=f&&!c((function(){return 8!==i((function(){}),"length",{value:8}).length})),h=String(String).split("String"),p=e.exports=function(e,n,c){"Symbol("===a(o(n),0,7)&&(n="["+s(o(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),c&&c.getter&&(n="get "+n),c&&c.setter&&(n="set "+n),(!fe(e,"name")||t&&e.name!==n)&&(f?i(e,"name",{value:n,configurable:!0}):e.name=n),l&&c&&fe(c,"arity")&&e.length!==c.arity&&i(e,"length",{value:c.arity});try{c&&fe(c,"constructor")&&c.constructor?f&&i(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(d){}var p=r(e);return fe(p,"source")||(p.source=u(h,"string"==typeof n?n:"")),e};Function.prototype.toString=p((function(){return U(this)&&n(this).source||Ve(this)}),"toString")})),it=function(e,t,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:t;if(U(r)&&ot(r,i,n),n.global)o?e[t]=r:oe(t,r);else{try{n.unsafe?e[t]&&(o=!0):delete e[t]}catch(a){}o?e[t]=r:qe.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},at=Math.ceil,st=Math.floor,ut=Math.trunc||function(e){var t=+e;return(t>0?st:at)(t)},ct=function(e){var t=+e;return t!=t||0===t?0:ut(t)},ft=Math.max,lt=Math.min,ht=function(e,t){var r=ct(e);return r<0?ft(r+t,0):lt(r,t)},pt=Math.min,dt=function(e){return(t=e.length)>0?pt(ct(t),9007199254740991):0;var t},vt=function(e){return function(t,r,n){var o,i=x(t),a=dt(i),s=ht(n,a);if(e&&r!=r){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===r)return e||s||0;return!e&&-1}},gt={includes:vt(!0),indexOf:vt(!1)},mt=gt.indexOf,yt=S([].push),wt=function(e,t){var r,n=x(e),o=0,i=[];for(r in n)!fe(Qe,r)&&fe(n,r)&&yt(i,r);for(;t.length>o;)fe(n,r=t[o++])&&(~mt(i,r)||yt(i,r));return i},bt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],St=bt.concat("length","prototype"),kt={f:Object.getOwnPropertyNames||function(e){return wt(e,St)}},Lt={f:Object.getOwnPropertySymbols},Pt=S([].concat),Rt=_("Reflect","ownKeys")||function(e){var t=kt.f(Me(e)),r=Lt.f;return r?Pt(t,r(e)):t},Ot=function(e,t,r){for(var n=Rt(t),o=qe.f,i=Ee.f,a=0;a<n.length;a++){var s=n[a];fe(e,s)||r&&fe(r,s)||o(e,s,i(t,s))}},jt=/#|\.prototype\./,Et=function(e,t){var r=At[Tt(e)];return r==Mt||r!=xt&&(U(t)?c(t):!!t)},Tt=Et.normalize=function(e){return String(e).replace(jt,".").toLowerCase()},At=Et.data={},xt=Et.NATIVE="N",Mt=Et.POLYFILL="P",Ct=Et,Ht=Ee.f,Ut=function(e,t){var r,n,o,i,s,c=e.target,f=e.global,l=e.stat;if(r=f?u:l?u[c]||oe(c,{}):(u[c]||{}).prototype)for(n in t){if(i=t[n],o=e.dontCallGetSet?(s=Ht(r,n))&&s.value:r[n],!Ct(f?n:c+(l?".":"#")+n,e.forced)&&void 0!==o){if(a(i)==a(o))continue;Ot(i,o)}(e.sham||o&&o.sham)&&Ie(i,"sham",!0),it(r,n,i,e)}},qt=!c((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),It=Ke("IE_PROTO"),Ft=Object,_t=Ft.prototype,Dt=qt?Ft.getPrototypeOf:function(e){var t=ue(e);if(fe(t,It))return t[It];var r=t.constructor;return U(r)&&t instanceof r?r.prototype:t instanceof Ft?_t:null},Nt=String,Bt=TypeError,Xt=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=function(e,t,r){try{return S(ee(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(n){}return function(r,n){return Me(r),function(e){if("object"==a(e)||U(e))return e;throw Bt("Can't set "+Nt(e)+" as a prototype")}(n),t?e(r,n):r.__proto__=n,r}}():void 0),zt=Object.keys||function(e){return wt(e,bt)},Gt={f:f&&!Te?Object.defineProperties:function(e,t){Me(e);for(var r,n=x(t),o=zt(t),i=o.length,a=0;i>a;)qe.f(e,r=o[a++],n[r]);return e}},Vt=_("document","documentElement"),Wt=Ke("IE_PROTO"),$t=function(){},Jt=function(e){return"<script>"+e+"<\/script>"},Kt=function(e){e.write(Jt("")),e.close();var t=e.parentWindow.Object;return e=null,t},Qt=function(){try{rt=new ActiveXObject("htmlfile")}catch(n){}var e,t;Qt="undefined"!=typeof document?document.domain&&rt?Kt(rt):((t=Re("iframe")).style.display="none",Vt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Jt("document.F=Object")),e.close(),e.F):Kt(rt);for(var r=bt.length;r--;)delete Qt.prototype[bt[r]];return Qt()};Qe[Wt]=!0;var Yt=Object.create||function(e,t){var r;return null!==e?($t.prototype=Me(e),r=new $t,$t.prototype=null,r[Wt]=e):r=Qt(),void 0===t?r:Gt.f(r,t)},Zt=function(e,t){I(t)&&"cause"in t&&Ie(e,"cause",t.cause)},er=Error,tr=S("".replace),rr=String(er("zxcasd").stack),nr=/\n\s*at [^:]*:[^\n]*/,or=nr.test(rr),ir=!c((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",m(1,7)),7!==e.stack)})),ar=Error.captureStackTrace,sr=function(e,t,r,n){ir&&(ar?ar(e,t):Ie(e,"stack",function(e,t){if(or&&"string"==typeof e&&!er.prepareStackTrace)for(;t--;)e=tr(e,nr,"");return e}(r,n)))},ur=function(e){if("Function"===P(e))return S(e)},cr=ur(ur.bind),fr=function(e,t){return ee(e),void 0===t?e:l?cr(e,t):function(){return e.apply(t,arguments)}},lr={},hr=ye("iterator"),pr=Array.prototype,dr=function(e){return void 0!==e&&(lr.Array===e||pr[hr]===e)},vr={};vr[ye("toStringTag")]="z";var gr="[object z]"===String(vr),mr=ye("toStringTag"),yr=Object,wr="Arguments"==P(function(){return arguments}()),br=gr?P:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=yr(e),mr))?r:wr?P(t):"Object"==(n=P(t))&&U(t.callee)?"Arguments":n},Sr=ye("iterator"),kr=function(e){if(!E(e))return te(e,Sr)||te(e,"@@iterator")||lr[br(e)]},Lr=TypeError,Pr=function(e,t){var r=arguments.length<2?kr(e):t;if(ee(r))return Me(p(r,e));throw Lr(Y(e)+" is not iterable")},Rr=function(e,t,r){var n,o;Me(e);try{if(!(n=te(e,"return"))){if("throw"===t)throw r;return r}n=p(n,e)}catch(i){o=!0,n=i}if("throw"===t)throw r;if(o)throw n;return Me(n),r},Or=TypeError,jr=function(e,t){this.stopped=e,this.result=t},Er=jr.prototype,Tr=function(e,t,r){var n,o,i,s,u,c,f,l=r&&r.that,h=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_RECORD),v=!(!r||!r.IS_ITERATOR),g=!(!r||!r.INTERRUPTED),m=fr(t,l),y=function(e){return n&&Rr(n,"normal",e),new jr(!0,e)},w=function(e){return h?(Me(e),g?m(e[0],e[1],y):m(e[0],e[1])):g?m(e,y):m(e)};if(d)n=e.iterator;else if(v)n=e;else{if(!(o=kr(e)))throw Or(Y(e)+" is not iterable");if(dr(o)){for(i=0,s=dt(e);s>i;i++)if((u=w(e[i]))&&D(Er,u))return u;return new jr(!1)}n=Pr(e,o)}for(c=d?e.next:n.next;!(f=p(c,n)).done;){try{u=w(f.value)}catch(b){Rr(n,"throw",b)}if("object"==a(u)&&u&&D(Er,u))return u}return new jr(!1)},Ar=String,xr=function(e){if("Symbol"===br(e))throw TypeError("Cannot convert a Symbol value to a string");return Ar(e)},Mr=function(e,t){return void 0===e?arguments.length<2?"":t:xr(e)},Cr=ye("toStringTag"),Hr=Error,Ur=[].push,qr=function(e,t){var r,n=D(Ir,this);Xt?r=Xt(Hr(),n?Dt(this):Ir):(r=n?this:Yt(Ir),Ie(r,Cr,"Error")),void 0!==t&&Ie(r,"message",Mr(t)),sr(r,qr,r.stack,1),arguments.length>2&&Zt(r,arguments[2]);var o=[];return Tr(e,Ur,{that:o}),Ie(r,"errors",o),r};Xt?Xt(qr,Hr):Ot(qr,Hr,{name:!0});var Ir=qr.prototype=Yt(Hr.prototype,{constructor:m(1,qr),message:m(1,""),name:m(1,"AggregateError")});Ut({global:!0,constructor:!0,arity:2},{AggregateError:qr});var Fr=qe.f,_r=ye("unscopables"),Dr=Array.prototype;null==Dr[_r]&&Fr(Dr,_r,{configurable:!0,value:Yt(null)});var Nr,Br,Xr,zr=function(e){Dr[_r][e]=!0},Gr=ye("iterator"),Vr=!1;[].keys&&("next"in(Xr=[].keys())?(Br=Dt(Dt(Xr)))!==Object.prototype&&(Nr=Br):Vr=!0),(!I(Nr)||c((function(){var e={};return Nr[Gr].call(e)!==e})))&&(Nr={}),U(Nr[Gr])||it(Nr,Gr,(function(){return this}));var Wr={IteratorPrototype:Nr,BUGGY_SAFARI_ITERATORS:Vr},$r=qe.f,Jr=ye("toStringTag"),Kr=function(e,t,r){e&&!r&&(e=e.prototype),e&&!fe(e,Jr)&&$r(e,Jr,{configurable:!0,value:t})},Qr=Wr.IteratorPrototype,Yr=function(){return this},Zr=function(e,t,r,n){var o=t+" Iterator";return e.prototype=Yt(Qr,{next:m(+!n,r)}),Kr(e,o,!1),lr[o]=Yr,e},en=Ne.PROPER,tn=Ne.CONFIGURABLE,rn=Wr.IteratorPrototype,nn=Wr.BUGGY_SAFARI_ITERATORS,on=ye("iterator"),an=function(){return this},sn=function(e,t,r,n,o,i,a){Zr(r,t,n);var s,u,c,f=function(e){if(e===o&&g)return g;if(!nn&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},l=t+" Iterator",h=!1,d=e.prototype,v=d[on]||d["@@iterator"]||o&&d[o],g=!nn&&v||f(o),m="Array"==t&&d.entries||v;if(m&&(s=Dt(m.call(new e)))!==Object.prototype&&s.next&&(Dt(s)!==rn&&(Xt?Xt(s,rn):U(s[on])||it(s,on,an)),Kr(s,l,!0)),en&&"values"==o&&v&&"values"!==v.name&&(tn?Ie(d,"name","values"):(h=!0,g=function(){return p(v,this)})),o)if(u={values:f("values"),keys:i?g:f("keys"),entries:f("entries")},a)for(c in u)(nn||h||!(c in d))&&it(d,c,u[c]);else Ut({target:t,proto:!0,forced:nn||h},u);return d[on]!==g&&it(d,on,g,{name:o}),lr[t]=g,u},un=function(e,t){return{value:e,done:t}},cn=qe.f,fn=nt.set,ln=nt.getterFor("Array Iterator"),hn=sn(Array,"Array",(function(e,t){fn(this,{type:"Array Iterator",target:x(e),index:0,kind:t})}),(function(){var e=ln(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,un(void 0,!0)):un("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values"),pn=lr.Arguments=lr.Array;if(zr("keys"),zr("values"),zr("entries"),f&&"values"!==pn.name)try{cn(pn,"name",{value:"values"})}catch(rc){}var dn=gr?{}.toString:function(){return"[object "+br(this)+"]"};gr||it(Object.prototype,"toString",dn,{unsafe:!0});var vn="undefined"!=typeof process&&"process"==P(process),gn=function(e,t,r){return r.get&&ot(r.get,t,{getter:!0}),r.set&&ot(r.set,t,{setter:!0}),qe.f(e,t,r)},mn=ye("species"),yn=TypeError,wn=function(e,t){if(D(t,e))return e;throw yn("Incorrect invocation")},bn=function(){},Sn=[],kn=_("Reflect","construct"),Ln=/^\s*(?:class|function)\b/,Pn=S(Ln.exec),Rn=!Ln.exec(bn),On=function(e){if(!U(e))return!1;try{return kn(bn,Sn,e),!0}catch(rc){return!1}},jn=function(e){if(!U(e))return!1;switch(br(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Rn||!!Pn(Ln,Ve(e))}catch(rc){return!0}};jn.sham=!0;var En,Tn,An,xn,Mn=!kn||c((function(){var e;return On(On.call)||!On(Object)||!On((function(){e=!0}))||e}))?jn:On,Cn=TypeError,Hn=ye("species"),Un=function(e,t){var r,n=Me(e).constructor;return void 0===n||E(r=Me(n)[Hn])?t:function(e){if(Mn(e))return e;throw Cn(Y(e)+" is not a constructor")}(r)},qn=Function.prototype,In=qn.apply,Fn=qn.call,_n="object"==("undefined"==typeof Reflect?"undefined":a(Reflect))&&Reflect.apply||(l?Fn.bind(In):function(){return Fn.apply(In,arguments)}),Dn=S([].slice),Nn=TypeError,Bn=function(e,t){if(e<t)throw Nn("Not enough arguments");return e},Xn=/(?:ipad|iphone|ipod).*applewebkit/i.test(N),zn=u.setImmediate,Gn=u.clearImmediate,Vn=u.process,Wn=u.Dispatch,$n=u.Function,Jn=u.MessageChannel,Kn=u.String,Qn=0,Yn={};c((function(){En=u.location}));var Zn=function(e){if(fe(Yn,e)){var t=Yn[e];delete Yn[e],t()}},eo=function(e){return function(){Zn(e)}},to=function(e){Zn(e.data)},ro=function(e){u.postMessage(Kn(e),En.protocol+"//"+En.host)};zn&&Gn||(zn=function(e){Bn(arguments.length,1);var t=U(e)?e:$n(e),r=Dn(arguments,1);return Yn[++Qn]=function(){_n(t,void 0,r)},Tn(Qn),Qn},Gn=function(e){delete Yn[e]},vn?Tn=function(e){Vn.nextTick(eo(e))}:Wn&&Wn.now?Tn=function(e){Wn.now(eo(e))}:Jn&&!Xn?(xn=(An=new Jn).port2,An.port1.onmessage=to,Tn=fr(xn.postMessage,xn)):u.addEventListener&&U(u.postMessage)&&!u.importScripts&&En&&"file:"!==En.protocol&&!c(ro)?(Tn=ro,u.addEventListener("message",to,!1)):Tn="onreadystatechange"in Re("script")?function(e){Vt.appendChild(Re("script")).onreadystatechange=function(){Vt.removeChild(this),Zn(e)}}:function(e){setTimeout(eo(e),0)});var no={set:zn,clear:Gn},oo=function(){this.head=null,this.tail=null};oo.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var io,ao,so,uo,co,fo=oo,lo=/ipad|iphone|ipod/i.test(N)&&"undefined"!=typeof Pebble,ho=/web0s(?!.*chrome)/i.test(N),po=Ee.f,vo=no.set,go=u.MutationObserver||u.WebKitMutationObserver,mo=u.document,yo=u.process,wo=u.Promise,bo=po(u,"queueMicrotask"),So=bo&&bo.value;if(!So){var ko=new fo,Lo=function(){var e,t;for(vn&&(e=yo.domain)&&e.exit();t=ko.get();)try{t()}catch(rc){throw ko.head&&io(),rc}e&&e.enter()};Xn||vn||ho||!go||!mo?!lo&&wo&&wo.resolve?((uo=wo.resolve(void 0)).constructor=wo,co=fr(uo.then,uo),io=function(){co(Lo)}):vn?io=function(){yo.nextTick(Lo)}:(vo=fr(vo,u),io=function(){vo(Lo)}):(ao=!0,so=mo.createTextNode(""),new go(Lo).observe(so,{characterData:!0}),io=function(){so.data=ao=!ao}),So=function(e){ko.head||io(),ko.add(e)}}var Po=So,Ro=function(e){try{return{error:!1,value:e()}}catch(rc){return{error:!0,value:rc}}},Oo=u.Promise,jo="object"==("undefined"==typeof Deno?"undefined":a(Deno))&&Deno&&"object"==a(Deno.version),Eo=!jo&&!vn&&"object"==("undefined"==typeof window?"undefined":a(window))&&"object"==("undefined"==typeof document?"undefined":a(document));Oo&&Oo.prototype;var To,Ao,xo,Mo,Co=ye("species"),Ho=!1,Uo=U(u.PromiseRejectionEvent),qo={CONSTRUCTOR:Ct("Promise",(function(){var e=Ve(Oo),t=e!==String(Oo);if(!t&&66===V)return!0;if(!V||V<51||!/native code/.test(e)){var r=new Oo((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[Co]=n,!(Ho=r.then((function(){}))instanceof n))return!0}return!t&&(Eo||jo)&&!Uo})),REJECTION_EVENT:Uo,SUBCLASSING:Ho},Io=TypeError,Fo=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw Io("Bad Promise constructor");t=e,r=n})),this.resolve=ee(t),this.reject=ee(r)},_o={f:function(e){return new Fo(e)}},Do=no.set,No=qo.CONSTRUCTOR,Bo=qo.REJECTION_EVENT,Xo=qo.SUBCLASSING,zo=nt.getterFor("Promise"),Go=nt.set,Vo=Oo&&Oo.prototype,Wo=Oo,$o=Vo,Jo=u.TypeError,Ko=u.document,Qo=u.process,Yo=_o.f,Zo=Yo,ei=!!(Ko&&Ko.createEvent&&u.dispatchEvent),ti=function(e){var t;return!(!I(e)||!U(t=e.then))&&t},ri=function(e,t){var r,n,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,u=e.resolve,c=e.reject,f=e.domain;try{s?(a||(2===t.rejection&&si(t),t.rejection=1),!0===s?r=i:(f&&f.enter(),r=s(i),f&&(f.exit(),o=!0)),r===e.promise?c(Jo("Promise-chain cycle")):(n=ti(r))?p(n,r,u,c):u(r)):c(i)}catch(rc){f&&!o&&f.exit(),c(rc)}},ni=function(e,t){e.notified||(e.notified=!0,Po((function(){for(var r,n=e.reactions;r=n.get();)ri(r,e);e.notified=!1,t&&!e.rejection&&ii(e)})))},oi=function(e,t,r){var n,o;ei?((n=Ko.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},!Bo&&(o=u["on"+e])?o(n):"unhandledrejection"===e&&function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(rc){}}("Unhandled promise rejection",r)},ii=function(e){p(Do,u,(function(){var t,r=e.facade,n=e.value;if(ai(e)&&(t=Ro((function(){vn?Qo.emit("unhandledRejection",n,r):oi("unhandledrejection",r,n)})),e.rejection=vn||ai(e)?2:1,t.error))throw t.value}))},ai=function(e){return 1!==e.rejection&&!e.parent},si=function(e){p(Do,u,(function(){var t=e.facade;vn?Qo.emit("rejectionHandled",t):oi("rejectionhandled",t,e.value)}))},ui=function(e,t,r){return function(n){e(t,n,r)}},ci=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,ni(e,!0))},fi=function e(t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===r)throw Jo("Promise can't be resolved itself");var o=ti(r);o?Po((function(){var n={done:!1};try{p(o,r,ui(e,n,t),ui(ci,n,t))}catch(rc){ci(n,rc,t)}})):(t.value=r,t.state=1,ni(t,!1))}catch(rc){ci({done:!1},rc,t)}}};if(No&&($o=(Wo=function(e){wn(this,$o),ee(e),p(To,this);var t=zo(this);try{e(ui(fi,t),ui(ci,t))}catch(rc){ci(t,rc)}}).prototype,(To=function(e){Go(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new fo,rejection:!1,state:0,value:void 0})}).prototype=it($o,"then",(function(e,t){var r=zo(this),n=Yo(Un(this,Wo));return r.parent=!0,n.ok=!U(e)||e,n.fail=U(t)&&t,n.domain=vn?Qo.domain:void 0,0==r.state?r.reactions.add(n):Po((function(){ri(n,r)})),n.promise})),Ao=function(){var e=new To,t=zo(e);this.promise=e,this.resolve=ui(fi,t),this.reject=ui(ci,t)},_o.f=Yo=function(e){return e===Wo||void 0===e?new Ao(e):Zo(e)},U(Oo)&&Vo!==Object.prototype)){xo=Vo.then,Xo||it(Vo,"then",(function(e,t){var r=this;return new Wo((function(e,t){p(xo,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete Vo.constructor}catch(rc){}Xt&&Xt(Vo,$o)}Ut({global:!0,constructor:!0,wrap:!0,forced:No},{Promise:Wo}),Kr(Wo,"Promise",!1),Mo=_("Promise"),f&&Mo&&!Mo[mn]&&gn(Mo,mn,{configurable:!0,get:function(){return this}});var li=ye("iterator"),hi=!1;try{var pi=0,di={next:function(){return{done:!!pi++}},return:function(){hi=!0}};di[li]=function(){return this},Array.from(di,(function(){throw 2}))}catch(rc){}var vi=qo.CONSTRUCTOR||!function(e,t){if(!t&&!hi)return!1;var r=!1;try{var n={};n[li]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(rc){}return r}((function(e){Oo.all(e).then(void 0,(function(){}))}));Ut({target:"Promise",stat:!0,forced:vi},{all:function(e){var t=this,r=_o.f(t),n=r.resolve,o=r.reject,i=Ro((function(){var r=ee(t.resolve),i=[],a=0,s=1;Tr(e,(function(e){var u=a++,c=!1;s++,p(r,t,e).then((function(e){c||(c=!0,i[u]=e,--s||n(i))}),o)})),--s||n(i)}));return i.error&&o(i.value),r.promise}});var gi=qo.CONSTRUCTOR,mi=Oo&&Oo.prototype;if(Ut({target:"Promise",proto:!0,forced:gi,real:!0},{catch:function(e){return this.then(void 0,e)}}),U(Oo)){var yi=_("Promise").prototype.catch;mi.catch!==yi&&it(mi,"catch",yi,{unsafe:!0})}Ut({target:"Promise",stat:!0,forced:vi},{race:function(e){var t=this,r=_o.f(t),n=r.reject,o=Ro((function(){var o=ee(t.resolve);Tr(e,(function(e){p(o,t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}}),Ut({target:"Promise",stat:!0,forced:qo.CONSTRUCTOR},{reject:function(e){var t=_o.f(this);return p(t.reject,void 0,e),t.promise}});var wi=function(e,t){if(Me(e),I(t)&&t.constructor===e)return t;var r=_o.f(e);return(0,r.resolve)(t),r.promise},bi=qo.CONSTRUCTOR;_("Promise"),Ut({target:"Promise",stat:!0,forced:bi},{resolve:function(e){return wi(this,e)}}),Ut({target:"Promise",stat:!0,forced:vi},{allSettled:function(e){var t=this,r=_o.f(t),n=r.resolve,o=r.reject,i=Ro((function(){var r=ee(t.resolve),o=[],i=0,a=1;Tr(e,(function(e){var s=i++,u=!1;a++,p(r,t,e).then((function(e){u||(u=!0,o[s]={status:"fulfilled",value:e},--a||n(o))}),(function(e){u||(u=!0,o[s]={status:"rejected",reason:e},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});Ut({target:"Promise",stat:!0,forced:vi},{any:function(e){var t=this,r=_("AggregateError"),n=_o.f(t),o=n.resolve,i=n.reject,a=Ro((function(){var n=ee(t.resolve),a=[],s=0,u=1,c=!1;Tr(e,(function(e){var f=s++,l=!1;u++,p(n,t,e).then((function(e){l||c||(c=!0,o(e))}),(function(e){l||c||(l=!0,a[f]=e,--u||i(new r(a,"No one promise resolved")))}))})),--u||i(new r(a,"No one promise resolved"))}));return a.error&&i(a.value),n.promise}});var Si=Oo&&Oo.prototype,ki=!!Oo&&c((function(){Si.finally.call({then:function(){}},(function(){}))}));if(Ut({target:"Promise",proto:!0,real:!0,forced:ki},{finally:function(e){var t=Un(this,_("Promise")),r=U(e);return this.then(r?function(r){return wi(t,e()).then((function(){return r}))}:e,r?function(r){return wi(t,e()).then((function(){throw r}))}:e)}}),U(Oo)){var Li=_("Promise").prototype.finally;Si.finally!==Li&&it(Si,"finally",Li,{unsafe:!0})}var Pi=S("".charAt),Ri=S("".charCodeAt),Oi=S("".slice),ji=function(e){return function(t,r){var n,o,i=xr(A(t)),a=ct(r),s=i.length;return a<0||a>=s?e?"":void 0:(n=Ri(i,a))<55296||n>56319||a+1===s||(o=Ri(i,a+1))<56320||o>57343?e?Pi(i,a):n:e?Oi(i,a,a+2):o-56320+(n-55296<<10)+65536}},Ei={codeAt:ji(!1),charAt:ji(!0)},Ti=Ei.charAt,Ai=nt.set,xi=nt.getterFor("String Iterator");sn(String,"String",(function(e){Ai(this,{type:"String Iterator",string:xr(e),index:0})}),(function(){var e,t=xi(this),r=t.string,n=t.index;return n>=r.length?un(void 0,!0):(e=Ti(r,n),t.index+=e.length,un(e,!1))}));var Mi=u;Mi.Promise;var Ci={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Hi=Re("span").classList,Ui=Hi&&Hi.constructor&&Hi.constructor.prototype,qi=Ui===Object.prototype?void 0:Ui,Ii=ye("iterator"),Fi=ye("toStringTag"),_i=hn.values,Di=function(e,t){if(e){if(e[Ii]!==_i)try{Ie(e,Ii,_i)}catch(rc){e[Ii]=_i}if(e[Fi]||Ie(e,Fi,t),Ci[t])for(var r in hn)if(e[r]!==hn[r])try{Ie(e,r,hn[r])}catch(rc){e[r]=hn[r]}}};for(var Ni in Ci)Di(u[Ni]&&u[Ni].prototype,Ni);Di(qi,"DOMTokenList"),Ut({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=_o.f(this),r=Ro(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}});var Bi=Array.isArray||function(e){return"Array"==P(e)},Xi=ye("species"),zi=Array,Gi=function(e,t){return new(function(e){var t;return Bi(e)&&(t=e.constructor,(Mn(t)&&(t===zi||Bi(t.prototype))||I(t)&&null===(t=t[Xi]))&&(t=void 0)),void 0===t?zi:t}(e))(0===t?0:t)},Vi=S([].push),Wi=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,i=6==e,a=7==e,s=5==e||i;return function(u,c,f,l){for(var h,p,d=ue(u),v=j(d),g=fr(c,f),m=dt(v),y=0,w=l||Gi,b=t?w(u,m):r||a?w(u,0):void 0;m>y;y++)if((s||y in v)&&(p=g(h=v[y],y,d),e))if(t)b[y]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:Vi(b,h)}else switch(e){case 4:return!1;case 7:Vi(b,h)}return i?-1:n||o?o:b}},$i={forEach:Wi(0),map:Wi(1),filter:Wi(2),some:Wi(3),every:Wi(4),find:Wi(5),findIndex:Wi(6),filterReject:Wi(7)},Ji=function(e,t){var r=[][e];return!!r&&c((function(){r.call(null,t||function(){return 1},1)}))},Ki=$i.forEach,Qi=Ji("forEach")?[].forEach:function(e){return Ki(this,e,arguments.length>1?arguments[1]:void 0)};Ut({target:"Array",proto:!0,forced:[].forEach!=Qi},{forEach:Qi});var Yi=function(e,t){return S(u[e].prototype[t])};Yi("Array","forEach");var Zi,ea=ye("species"),ta=$i.map,ra=(Zi="map",V>=51||!c((function(){var e=[];return(e.constructor={})[ea]=function(){return{foo:1}},1!==e[Zi](Boolean).foo})));Ut({target:"Array",proto:!0,forced:!ra},{map:function(e){return ta(this,e,arguments.length>1?arguments[1]:void 0)}}),Yi("Array","map");var na=$i.some,oa=Ji("some");Ut({target:"Array",proto:!0,forced:!oa},{some:function(e){return na(this,e,arguments.length>1?arguments[1]:void 0)}}),Yi("Array","some");var ia=gt.includes,aa=c((function(){return!Array(1).includes()}));Ut({target:"Array",proto:!0,forced:aa},{includes:function(e){return ia(this,e,arguments.length>1?arguments[1]:void 0)}}),zr("includes"),Yi("Array","includes");var sa=Object.assign,ua=Object.defineProperty,ca=S([].concat),fa=!sa||c((function(){if(f&&1!==sa({b:1},sa(ua({},"a",{enumerable:!0,get:function(){ua(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=sa({},e)[r]||"abcdefghijklmnopqrst"!=zt(sa({},t)).join("")}))?function(e,t){for(var r=ue(e),n=arguments.length,o=1,i=Lt.f,a=g.f;n>o;)for(var s,u=j(arguments[o++]),c=i?ca(zt(u),i(u)):zt(u),l=c.length,h=0;l>h;)s=c[h++],f&&!p(a,u,s)||(r[s]=u[s]);return r}:sa;Ut({target:"Object",stat:!0,arity:2,forced:Object.assign!==fa},{assign:fa}),Mi.Object.assign;var la=ye("iterator"),ha=!c((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),!t.size&&!f||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[la]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),pa=function(e,t,r,n){try{return n?t(Me(r)[0],r[1]):t(r)}catch(rc){Rr(e,"throw",rc)}},da=function(e,t,r){var n=ke(t);n in e?qe.f(e,n,m(0,r)):e[n]=r},va=Array,ga=function(e){var t=ue(e),r=Mn(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=fr(o,n>2?arguments[2]:void 0));var a,s,u,c,f,l,h=kr(t),d=0;if(!h||this===va&&dr(h))for(a=dt(t),s=r?new this(a):va(a);a>d;d++)l=i?o(t[d],d):t[d],da(s,d,l);else for(f=(c=Pr(t,h)).next,s=r?new this:[];!(u=p(f,c)).done;d++)l=i?pa(c,o,[u.value,d],!0):u.value,da(s,d,l);return s.length=d,s},ma=Array,ya=Math.max,wa=function(e,t,r){for(var n=dt(e),o=ht(t,n),i=ht(void 0===r?n:r,n),a=ma(ya(i-o,0)),s=0;o<i;o++,s++)da(a,s,e[o]);return a.length=s,a},ba=/[^\0-\u007E]/,Sa=/[.\u3002\uFF0E\uFF61]/g,ka="Overflow: input needs wider integers to process",La=RangeError,Pa=S(Sa.exec),Ra=Math.floor,Oa=String.fromCharCode,ja=S("".charCodeAt),Ea=S([].join),Ta=S([].push),Aa=S("".replace),xa=S("".split),Ma=S("".toLowerCase),Ca=function(e){return e+22+75*(e<26)},Ha=function(e,t,r){var n=0;for(e=r?Ra(e/700):e>>1,e+=Ra(e/t);e>455;)e=Ra(e/35),n+=36;return Ra(n+36*e/(e+38))},Ua=function(e){var t,r,n=[],o=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=ja(e,r++);if(o>=55296&&o<=56319&&r<n){var i=ja(e,r++);56320==(64512&i)?Ta(t,((1023&o)<<10)+(1023&i)+65536):(Ta(t,o),r--)}else Ta(t,o)}return t}(e)).length,i=128,a=0,s=72;for(t=0;t<e.length;t++)(r=e[t])<128&&Ta(n,Oa(r));var u=n.length,c=u;for(u&&Ta(n,"-");c<o;){var f=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=i&&r<f&&(f=r);var l=c+1;if(f-i>Ra((2147483647-a)/l))throw La(ka);for(a+=(f-i)*l,i=f,t=0;t<e.length;t++){if((r=e[t])<i&&++a>2147483647)throw La(ka);if(r==i){for(var h=a,p=36;;){var d=p<=s?1:p>=s+26?26:p-s;if(h<d)break;var v=h-d,g=36-d;Ta(n,Oa(Ca(d+v%g))),h=Ra(v/g),p+=36}Ta(n,Oa(Ca(h))),s=Ha(a,l,c==u),a=0,c++}}a++,i++}return Ea(n,"")},qa=Math.floor,Ia=function(e,t){for(var r,n,o=e.length,i=1;i<o;){for(n=i,r=e[i];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},Fa=function(e,t,r,n){for(var o=t.length,i=r.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?n(t[a],r[s])<=0?t[a++]:r[s++]:a<o?t[a++]:r[s++];return e},_a=function e(t,r){var n=t.length,o=qa(n/2);return n<8?Ia(t,r):Fa(t,e(wa(t,0,o),r),e(wa(t,o),r),r)},Da=ye("iterator"),Na=nt.set,Ba=nt.getterFor("URLSearchParams"),Xa=nt.getterFor("URLSearchParamsIterator"),za=Object.getOwnPropertyDescriptor,Ga=function(e){if(!f)return u[e];var t=za(u,e);return t&&t.value},Va=Ga("fetch"),Wa=Ga("Request"),$a=Ga("Headers"),Ja=Wa&&Wa.prototype,Ka=$a&&$a.prototype,Qa=u.RegExp,Ya=u.TypeError,Za=u.decodeURIComponent,es=u.encodeURIComponent,ts=S("".charAt),rs=S([].join),ns=S([].push),os=S("".replace),is=S([].shift),as=S([].splice),ss=S("".split),us=S("".slice),cs=/\+/g,fs=Array(4),ls=function(e){return fs[e-1]||(fs[e-1]=Qa("((?:%[\\da-f]{2}){"+e+"})","gi"))},hs=function(e){try{return Za(e)}catch(rc){return e}},ps=function(e){var t=os(e,cs," "),r=4;try{return Za(t)}catch(rc){for(;r;)t=os(t,ls(r--),hs);return t}},ds=/[!'()~]|%20/g,vs={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},gs=function(e){return vs[e]},ms=function(e){return os(es(e),ds,gs)},ys=Zr((function(e,t){Na(this,{type:"URLSearchParamsIterator",iterator:Pr(Ba(e).entries),kind:t})}),"Iterator",(function(){var e=Xa(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),ws=function(e){this.entries=[],this.url=null,void 0!==e&&(I(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===ts(e,0)?us(e,1):e:xr(e)))};ws.prototype={type:"URLSearchParams",bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,o,i,a,s,u=kr(e);if(u)for(r=(t=Pr(e,u)).next;!(n=p(r,t)).done;){if(i=(o=Pr(Me(n.value))).next,(a=p(i,o)).done||(s=p(i,o)).done||!p(i,o).done)throw Ya("Expected sequence with length 2");ns(this.entries,{key:xr(a.value),value:xr(s.value)})}else for(var c in e)fe(e,c)&&ns(this.entries,{key:c,value:xr(e[c])})},parseQuery:function(e){if(e)for(var t,r,n=ss(e,"&"),o=0;o<n.length;)(t=n[o++]).length&&(r=ss(t,"="),ns(this.entries,{key:ps(is(r)),value:ps(rs(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],ns(r,ms(e.key)+"="+ms(e.value));return rs(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var bs=function(){wn(this,Ss);var e=arguments.length>0?arguments[0]:void 0,t=Na(this,new ws(e));f||(this.length=t.entries.length)},Ss=bs.prototype;if(function(e,t,r){for(var n in t)it(e,n,t[n],r)}(Ss,{append:function(e,t){Bn(arguments.length,2);var r=Ba(this);ns(r.entries,{key:xr(e),value:xr(t)}),f||this.length++,r.updateURL()},delete:function(e){Bn(arguments.length,1);for(var t=Ba(this),r=t.entries,n=xr(e),o=0;o<r.length;)r[o].key===n?as(r,o,1):o++;f||(this.length=r.length),t.updateURL()},get:function(e){Bn(arguments.length,1);for(var t=Ba(this).entries,r=xr(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){Bn(arguments.length,1);for(var t=Ba(this).entries,r=xr(e),n=[],o=0;o<t.length;o++)t[o].key===r&&ns(n,t[o].value);return n},has:function(e){Bn(arguments.length,1);for(var t=Ba(this).entries,r=xr(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){Bn(arguments.length,1);for(var r,n=Ba(this),o=n.entries,i=!1,a=xr(e),s=xr(t),u=0;u<o.length;u++)(r=o[u]).key===a&&(i?as(o,u--,1):(i=!0,r.value=s));i||ns(o,{key:a,value:s}),f||(this.length=o.length),n.updateURL()},sort:function(){var e=Ba(this);_a(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=Ba(this).entries,n=fr(e,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new ys(this,"keys")},values:function(){return new ys(this,"values")},entries:function(){return new ys(this,"entries")}},{enumerable:!0}),it(Ss,Da,Ss.entries,{name:"entries"}),it(Ss,"toString",(function(){return Ba(this).serialize()}),{enumerable:!0}),f&&gn(Ss,"size",{get:function(){return Ba(this).entries.length},configurable:!0,enumerable:!0}),Kr(bs,"URLSearchParams"),Ut({global:!0,constructor:!0,forced:!ha},{URLSearchParams:bs}),!ha&&U($a)){var ks=S(Ka.has),Ls=S(Ka.set),Ps=function(e){if(I(e)){var t,r=e.body;if("URLSearchParams"===br(r))return t=e.headers?new $a(e.headers):new $a,ks(t,"content-type")||Ls(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Yt(e,{body:m(0,xr(r)),headers:m(0,t)})}return e};if(U(Va)&&Ut({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return Va(e,arguments.length>1?Ps(arguments[1]):{})}}),U(Wa)){var Rs=function(e){return wn(this,Ja),new Wa(e,arguments.length>1?Ps(arguments[1]):{})};Ja.constructor=Rs,Rs.prototype=Ja,Ut({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Rs})}}var Os,js={URLSearchParams:bs,getState:Ba},Es=Ei.codeAt,Ts=nt.set,As=nt.getterFor("URL"),xs=js.URLSearchParams,Ms=js.getState,Cs=u.URL,Hs=u.TypeError,Us=u.parseInt,qs=Math.floor,Is=Math.pow,Fs=S("".charAt),_s=S(/./.exec),Ds=S([].join),Ns=S(1..toString),Bs=S([].pop),Xs=S([].push),zs=S("".replace),Gs=S([].shift),Vs=S("".split),Ws=S("".slice),$s=S("".toLowerCase),Js=S([].unshift),Ks=/[a-z]/i,Qs=/[\d+-.a-z]/i,Ys=/\d/,Zs=/^0x/i,eu=/^[0-7]+$/,tu=/^\d+$/,ru=/^[\da-f]+$/i,nu=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ou=/[\0\t\n\r #/:<>?@[\\\]^|]/,iu=/^[\u0000-\u0020]+/,au=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,su=/[\t\n\r]/g,uu=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)Js(t,e%256),e=qs(e/256);return Ds(t,".")}if("object"==a(e)){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=Ns(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},cu={},fu=fa({},cu,{" ":1,'"':1,"<":1,">":1,"`":1}),lu=fa({},fu,{"#":1,"?":1,"{":1,"}":1}),hu=fa({},lu,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pu=function(e,t){var r=Es(e,0);return r>32&&r<127&&!fe(t,e)?e:encodeURIComponent(e)},du={ftp:21,file:null,http:80,https:443,ws:80,wss:443},vu=function(e,t){var r;return 2==e.length&&_s(Ks,Fs(e,0))&&(":"==(r=Fs(e,1))||!t&&"|"==r)},gu=function(e){var t;return e.length>1&&vu(Ws(e,0,2))&&(2==e.length||"/"===(t=Fs(e,2))||"\\"===t||"?"===t||"#"===t)},mu=function(e){return"."===e||"%2e"===$s(e)},yu={},wu={},bu={},Su={},ku={},Lu={},Pu={},Ru={},Ou={},ju={},Eu={},Tu={},Au={},xu={},Mu={},Cu={},Hu={},Uu={},qu={},Iu={},Fu={},_u=function e(t,r,n){var o,i,a,s=xr(t);if(r){if(i=this.parse(s))throw Hs(i);this.searchParams=null}else{if(void 0!==n&&(o=new e(n,!0)),i=this.parse(s,null,o))throw Hs(i);(a=Ms(new xs)).bindURL(this),this.searchParams=a}};_u.prototype={type:"URL",parse:function(e,t,r){var n,o,i,a,s,u=this,c=t||yu,f=0,l="",h=!1,p=!1,d=!1;for(e=xr(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=zs(e,iu,""),e=zs(e,au,"$1")),e=zs(e,su,""),n=ga(e);f<=n.length;){switch(o=n[f],c){case yu:if(!o||!_s(Ks,o)){if(t)return"Invalid scheme";c=bu;continue}l+=$s(o),c=wu;break;case wu:if(o&&(_s(Qs,o)||"+"==o||"-"==o||"."==o))l+=$s(o);else{if(":"!=o){if(t)return"Invalid scheme";l="",c=bu,f=0;continue}if(t&&(u.isSpecial()!=fe(du,l)||"file"==l&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=l,t)return void(u.isSpecial()&&du[u.scheme]==u.port&&(u.port=null));l="","file"==u.scheme?c=xu:u.isSpecial()&&r&&r.scheme==u.scheme?c=Su:u.isSpecial()?c=Ru:"/"==n[f+1]?(c=ku,f++):(u.cannotBeABaseURL=!0,Xs(u.path,""),c=qu)}break;case bu:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){u.scheme=r.scheme,u.path=wa(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,c=Fu;break}c="file"==r.scheme?xu:Lu;continue;case Su:if("/"!=o||"/"!=n[f+1]){c=Lu;continue}c=Ou,f++;break;case ku:if("/"==o){c=ju;break}c=Uu;continue;case Lu:if(u.scheme=r.scheme,o==Os)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=wa(r.path),u.query=r.query;else if("/"==o||"\\"==o&&u.isSpecial())c=Pu;else if("?"==o)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=wa(r.path),u.query="",c=Iu;else{if("#"!=o){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=wa(r.path),u.path.length--,c=Uu;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=wa(r.path),u.query=r.query,u.fragment="",c=Fu}break;case Pu:if(!u.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,c=Uu;continue}c=ju}else c=Ou;break;case Ru:if(c=Ou,"/"!=o||"/"!=Fs(l,f+1))continue;f++;break;case Ou:if("/"!=o&&"\\"!=o){c=ju;continue}break;case ju:if("@"==o){h&&(l="%40"+l),h=!0,i=ga(l);for(var v=0;v<i.length;v++){var g=i[v];if(":"!=g||d){var m=pu(g,hu);d?u.password+=m:u.username+=m}else d=!0}l=""}else if(o==Os||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(h&&""==l)return"Invalid authority";f-=ga(l).length+1,l="",c=Eu}else l+=o;break;case Eu:case Tu:if(t&&"file"==u.scheme){c=Cu;continue}if(":"!=o||p){if(o==Os||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(u.isSpecial()&&""==l)return"Invalid host";if(t&&""==l&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(l))return a;if(l="",c=Hu,t)return;continue}"["==o?p=!0:"]"==o&&(p=!1),l+=o}else{if(""==l)return"Invalid host";if(a=u.parseHost(l))return a;if(l="",c=Au,t==Tu)return}break;case Au:if(!_s(Ys,o)){if(o==Os||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()||t){if(""!=l){var y=Us(l,10);if(y>65535)return"Invalid port";u.port=u.isSpecial()&&y===du[u.scheme]?null:y,l=""}if(t)return;c=Hu;continue}return"Invalid port"}l+=o;break;case xu:if(u.scheme="file","/"==o||"\\"==o)c=Mu;else{if(!r||"file"!=r.scheme){c=Uu;continue}if(o==Os)u.host=r.host,u.path=wa(r.path),u.query=r.query;else if("?"==o)u.host=r.host,u.path=wa(r.path),u.query="",c=Iu;else{if("#"!=o){gu(Ds(wa(n,f),""))||(u.host=r.host,u.path=wa(r.path),u.shortenPath()),c=Uu;continue}u.host=r.host,u.path=wa(r.path),u.query=r.query,u.fragment="",c=Fu}}break;case Mu:if("/"==o||"\\"==o){c=Cu;break}r&&"file"==r.scheme&&!gu(Ds(wa(n,f),""))&&(vu(r.path[0],!0)?Xs(u.path,r.path[0]):u.host=r.host),c=Uu;continue;case Cu:if(o==Os||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&vu(l))c=Uu;else if(""==l){if(u.host="",t)return;c=Hu}else{if(a=u.parseHost(l))return a;if("localhost"==u.host&&(u.host=""),t)return;l="",c=Hu}continue}l+=o;break;case Hu:if(u.isSpecial()){if(c=Uu,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=Os&&(c=Uu,"/"!=o))continue}else u.fragment="",c=Fu;else u.query="",c=Iu;break;case Uu:if(o==Os||"/"==o||"\\"==o&&u.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(s=$s(s=l))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(u.shortenPath(),"/"==o||"\\"==o&&u.isSpecial()||Xs(u.path,"")):mu(l)?"/"==o||"\\"==o&&u.isSpecial()||Xs(u.path,""):("file"==u.scheme&&!u.path.length&&vu(l)&&(u.host&&(u.host=""),l=Fs(l,0)+":"),Xs(u.path,l)),l="","file"==u.scheme&&(o==Os||"?"==o||"#"==o))for(;u.path.length>1&&""===u.path[0];)Gs(u.path);"?"==o?(u.query="",c=Iu):"#"==o&&(u.fragment="",c=Fu)}else l+=pu(o,lu);break;case qu:"?"==o?(u.query="",c=Iu):"#"==o?(u.fragment="",c=Fu):o!=Os&&(u.path[0]+=pu(o,cu));break;case Iu:t||"#"!=o?o!=Os&&("'"==o&&u.isSpecial()?u.query+="%27":u.query+="#"==o?"%23":pu(o,cu)):(u.fragment="",c=Fu);break;case Fu:o!=Os&&(u.fragment+=pu(o,fu))}f++}},parseHost:function(e){var t,r,n;if("["==Fs(e,0)){if("]"!=Fs(e,e.length-1))return"Invalid host";if(!(t=function(e){var t,r,n,o,i,a,s,u=[0,0,0,0,0,0,0,0],c=0,f=null,l=0,h=function(){return Fs(e,l)};if(":"==h()){if(":"!=Fs(e,1))return;l+=2,f=++c}for(;h();){if(8==c)return;if(":"!=h()){for(t=r=0;r<4&&_s(ru,h());)t=16*t+Us(h(),16),l++,r++;if("."==h()){if(0==r)return;if(l-=r,c>6)return;for(n=0;h();){if(o=null,n>0){if(!("."==h()&&n<4))return;l++}if(!_s(Ys,h()))return;for(;_s(Ys,h());){if(i=Us(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;l++}u[c]=256*u[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==h()){if(l++,!h())return}else if(h())return;u[c++]=t}else{if(null!==f)return;l++,f=++c}}if(null!==f)for(a=c-f,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[f+a-1],u[f+--a]=s;else if(8!=c)return;return u}(Ws(e,1,-1))))return"Invalid host";this.host=t}else if(this.isSpecial()){if(e=function(e){var t,r,n=[],o=xa(Aa(Ma(e),Sa,"."),".");for(t=0;t<o.length;t++)r=o[t],Ta(n,Pa(ba,r)?"xn--"+Ua(r):r);return Ea(n,".")}(e),_s(nu,e))return"Invalid host";if(null===(t=function(e){var t,r,n,o,i,a,s,u=Vs(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=u[n]))return e;if(i=10,o.length>1&&"0"==Fs(o,0)&&(i=_s(Zs,o)?16:8,o=Ws(o,8==i?1:2)),""===o)a=0;else{if(!_s(10==i?tu:8==i?eu:ru,o))return e;a=Us(o,i)}Xs(r,a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=Is(256,5-t))return null}else if(a>255)return null;for(s=Bs(r),n=0;n<r.length;n++)s+=r[n]*Is(256,3-n);return s}(e)))return"Invalid host";this.host=t}else{if(_s(ou,e))return"Invalid host";for(t="",r=ga(e),n=0;n<r.length;n++)t+=pu(r[n],cu);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return fe(du,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&vu(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=uu(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+Ds(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw Hs(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Du(e.path[0]).origin}catch(rc){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+uu(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(xr(e)+":",yu)},getUsername:function(){return this.username},setUsername:function(e){var t=ga(xr(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=pu(t[r],hu)}},getPassword:function(){return this.password},setPassword:function(e){var t=ga(xr(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=pu(t[r],hu)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?uu(e):uu(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Eu)},getHostname:function(){var e=this.host;return null===e?"":uu(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Tu)},getPort:function(){var e=this.port;return null===e?"":xr(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=xr(e))?this.port=null:this.parse(e,Au))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Ds(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Hu))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=xr(e))?this.query=null:("?"==Fs(e,0)&&(e=Ws(e,1)),this.query="",this.parse(e,Iu)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=xr(e))?("#"==Fs(e,0)&&(e=Ws(e,1)),this.fragment="",this.parse(e,Fu)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Du=function(e){var t=wn(this,Nu),r=Bn(arguments.length,1)>1?arguments[1]:void 0,n=Ts(t,new _u(e,!1,r));f||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Nu=Du.prototype,Bu=function(e,t){return{get:function(){return As(this)[e]()},set:t&&function(e){return As(this)[t](e)},configurable:!0,enumerable:!0}};if(f&&(gn(Nu,"href",Bu("serialize","setHref")),gn(Nu,"origin",Bu("getOrigin")),gn(Nu,"protocol",Bu("getProtocol","setProtocol")),gn(Nu,"username",Bu("getUsername","setUsername")),gn(Nu,"password",Bu("getPassword","setPassword")),gn(Nu,"host",Bu("getHost","setHost")),gn(Nu,"hostname",Bu("getHostname","setHostname")),gn(Nu,"port",Bu("getPort","setPort")),gn(Nu,"pathname",Bu("getPathname","setPathname")),gn(Nu,"search",Bu("getSearch","setSearch")),gn(Nu,"searchParams",Bu("getSearchParams")),gn(Nu,"hash",Bu("getHash","setHash"))),it(Nu,"toJSON",(function(){return As(this).serialize()}),{enumerable:!0}),it(Nu,"toString",(function(){return As(this).serialize()}),{enumerable:!0}),Cs){var Xu=Cs.createObjectURL,zu=Cs.revokeObjectURL;Xu&&it(Du,"createObjectURL",fr(Xu,Cs)),zu&&it(Du,"revokeObjectURL",fr(zu,Cs))}Kr(Du,"URL"),Ut({global:!0,constructor:!0,forced:!ha,sham:!f},{URL:Du});var Gu=_("URL");Ut({target:"URL",stat:!0},{canParse:function(e){var t=Bn(arguments.length,1),r=xr(e),n=t<2||void 0===arguments[1]?void 0:xr(arguments[1]);try{return!!new Gu(r,n)}catch(rc){return!1}}}),Ut({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return p(URL.prototype.toString,this)}});var Vu=URLSearchParams.prototype,Wu=S(Vu.forEach);f&&!("size"in Vu)&&gn(Vu,"size",{get:function(){var e=0;return Wu(this,(function(){e++})),e},configurable:!0,enumerable:!0}),Mi.URL;var $u=r(n((function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}))),Ju=r(n((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0}))),Ku=r(n((function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0}))),Qu="fetch"in window,Yu="Request"in window,Zu="Headers"in window,ec={POST:"*",PUT:"*",PATCH:"*",DELETE:"*"},tc=new(function(){function e(){Ju(this,e),this.tokenHeaderName="x-secsdk-csrf-token",this.tokenFetchTimeout=1e4,this.secsdkVersionHeaderName="x-secsdk-csrf-version",this.nativeXMLHttpRequest=window.XMLHttpRequest.prototype.constructor,this.nativeXMLHttpRequestOpen=window.XMLHttpRequest.prototype.open,this.nativeXMLHttpRequestSend=window.XMLHttpRequest.prototype.send,this.nativeXMLHttpRequestSetRequestHeader=window.XMLHttpRequest.prototype.setRequestHeader,this.nativeFetch=window.fetch,this.tokenMap={},this.protectionConfig={},this.whiteListConfig={},this.secsdkVersion="1.2.13",this.downgradeMaxAge=1e3,this.downgradeLimit=-1,this.downgradeLimitMap={},this.monkeyPatchXMLHttpRequest(),this.monkeyPatchFetch()}return Ku(e,[{key:"setProtectedHost",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;this.protectionConfig={},"string"==typeof t?this.protectionConfig[t]=Object.assign({},ec):Array.isArray(t)?t.forEach((function(t){e.protectionConfig[t]=Object.assign({},ec)})):"[object Object]"===Object.prototype.toString.call(t)&&Object.keys(t).forEach((function(r){e.protectionConfig[r]=Object.assign({},ec);var n=t[r];"[object Object]"===Object.prototype.toString.call(n)&&Object.keys(n).forEach((function(t){e.protectionConfig[r][t.toUpperCase()]=n[t]}))}))}},{key:"setAllowedHost",value:function(e){var t=this;Object.keys(e).forEach((function(r){t.whiteListConfig[r]={};var n=e[r];Object.keys(n).forEach((function(e){t.whiteListConfig[r][e.toUpperCase()]=n[e]}))}))}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"===$u(e)){var t=Object.keys(e).includes("protect");if(t){var r=e.protect,n=void 0===r?{}:r,o=e.allow,i=void 0===o?{}:o,a=e.downgradeLimit,s=void 0===a?-1:a,u=e.downgradeMaxAge,c=void 0===u?1e3:u,f=e.tokenFetchTimeout,l=void 0===f?1e4:f;return this.setProtectedHost(n),this.setAllowedHost(i),this.setDowngradeLimit(s),this.setDowngradeMaxAge(c),void this.setTokenFetchTimeout(l)}this.setProtectedHost(e)}}},{key:"setDowngradeMaxAge",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.downgradeMaxAge=e}},{key:"setDowngradeLimit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.downgradeLimit=e}},{key:"setTokenFetchTimeout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;this.tokenFetchTimeout=e}},{key:"fetchToken",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.pathname;return Array.isArray(t)?Promise.all(t.map((function(t){return e.fetchToken(t)}))):(this.tokenMap[t]||(this.tokenMap[t]=this.fetchTokenFromServer(t,this.getTokenPath(t,r)).then((function(r){return e.tokenMap[t]=r,r}))),Promise.resolve(this.tokenMap[t]).then((function(n){return n.expiredAt<Date.now()&&(-1===e.downgradeLimit&&!n.timeout||!e.checkDowngradeLimit(t))?(delete e.tokenMap[t],e.fetchToken(t,r)):n})))}},{key:"fetchTokenFromLocal",value:function(e){var t=this.tokenMap[e];return!t||t instanceof Promise?"DOWNGRADE":t.value}},{key:"incrementDowngradeLimitCount",value:function(e){if(-1!==this.downgradeLimit){var t=this.downgradeLimitMap[e]||0;this.downgradeLimitMap[e]=t+1}}},{key:"checkDowngradeLimit",value:function(e){return-1!==this.downgradeLimit&&(this.downgradeLimitMap[e]||0)>=this.downgradeLimit}},{key:"fetchTokenFromServer",value:function(e,t){var r=this;return new Promise((function(n){var o=new(0,r.nativeXMLHttpRequest),i={value:"DOWNGRADE",expiredAt:Date.now()+r.downgradeMaxAge,timeout:!1};if(r.checkDowngradeLimit(e))return console.error(new Error("Failed to fetch csrf token: host=".concat(e," downgradeLimit: ").concat(r.downgradeLimit))),void n(i);o.addEventListener("load",(function(){if(200!==o.status)return console.error(new Error("Failed to fetch csrf token: host=".concat(e," status=").concat(o.status," statusText=").concat(o.statusText))),n(i),void r.incrementDowngradeLimitCount(e);var t=[],a=o.getResponseHeader("x-ware-csrf-token");if(!a)return console.warn("Failed to get csrf token: host=".concat(e," xWareCsrfToken=").concat(a)),n(i),void r.incrementDowngradeLimitCount(e);if("0"!==(t=a.split(","))[0])return console.warn("Failed to fetch csrf token: host=".concat(e," status_code=").concat(t[0]," message=").concat(t[3])),n(i),void r.incrementDowngradeLimitCount(e);if(!t[1])return console.warn("Failed to fetch csrf token, empty token: host=".concat(e," data=").concat(t)),n(i),void r.incrementDowngradeLimitCount(e);var s=parseInt(t[2],10)||864e5;n({value:t[1],expiredAt:Date.now()+s,timeout:!1})})),o.addEventListener("error",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(e," error=network request failed"))),n(i),r.incrementDowngradeLimitCount(e)})),o.addEventListener("abort",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(e," error=network request aborted"))),n(i),r.incrementDowngradeLimitCount(e)})),o.addEventListener("timeout",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(e," error=timeout"))),i.timeout=!0,n(i),r.incrementDowngradeLimitCount(e)}));var a=["http:","https:"].includes(window.location.protocol)?window.location.protocol:"https:";r.nativeXMLHttpRequestOpen.call(o,"HEAD","".concat(a,"//").concat(e).concat(t)),r.nativeXMLHttpRequestSetRequestHeader.call(o,"x-secsdk-csrf-request","1"),r.nativeXMLHttpRequestSetRequestHeader.call(o,r.secsdkVersionHeaderName,r.secsdkVersion),o.withCredentials=!0,o.timeout=r.tokenFetchTimeout,r.nativeXMLHttpRequestSend.call(o)}))}},{key:"matchConfig",value:function(e,t,r,n){r=r.toUpperCase();var o=e;if(!o[t])return!1;if(!o[t][r])return!1;var i=o[t][r];return i instanceof RegExp?i.test(n):Array.isArray(i)?i.some((function(e){return e instanceof RegExp?e.test(n):e===n})):"*"===i||i===n}},{key:"shouldAllowRequest",value:function(e,t,r){return this.matchConfig(this.whiteListConfig,e,t,r)}},{key:"shouldProtectRequest",value:function(e,t,r){return this.matchConfig(this.protectionConfig,e,t,r)}},{key:"getTokenPath",value:function(e,t){var r=this.protectionConfig;return r[e]&&r[e].TOKEN_PATH?r[e].TOKEN_PATH:t}},{key:"monkeyPatchXMLHttpRequest",value:function(){var e=this;XMLHttpRequest.prototype.open=function(){this.openArgs=arguments,e.nativeXMLHttpRequestOpen.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){var t=this,r=this.openArgs,n=arguments,o=r[0]||"GET",i=new URL(r[1],window.location.href);if(e.shouldAllowRequest(i.hostname,o,i.pathname))return e.nativeXMLHttpRequestSend.apply(this,n);if(!e.shouldProtectRequest(i.host,o,i.pathname))return e.nativeXMLHttpRequestSend.apply(this,n);if(r.length>=3&&!r[2]){var a=e.fetchTokenFromLocal(i.host);return e.nativeXMLHttpRequestSetRequestHeader.call(this,e.tokenHeaderName,a),e.nativeXMLHttpRequestSend.apply(this,n)}e.fetchToken(i.host,i.pathname).then((function(r){e.nativeXMLHttpRequestSetRequestHeader.call(t,e.tokenHeaderName,r.value),e.nativeXMLHttpRequestSend.apply(t,n)}))}}},{key:"monkeyPatchFetch",value:function(){if(Qu){var e=this;window.fetch=function(t,r){var n,o,i=this;Yu&&t instanceof Request?(n=t.url,o=t.method):(n=t,o=r&&r.method?r.method:"GET");var a=new URL(n,window.location.href);return e.shouldAllowRequest(a.hostname,o,a.pathname)?e.nativeFetch.apply(this,[t,r]):e.shouldProtectRequest(a.host,o,a.pathname)?e.fetchToken(a.host,a.pathname).then((function(n){if(Yu&&t instanceof Request)t.headers.set(e.tokenHeaderName,n.value);else if((r=r||{}).headers=r.headers||{},Zu&&r.headers instanceof Headers)r.headers.set(e.tokenHeaderName,n.value);else if(Array.isArray(r.headers)){var o=!1;r.headers.forEach((function(t){t[0]===e.tokenHeaderName&&(t[1]=n.value,o=!0)})),o||r.headers.push([e.tokenHeaderName,n.value])}else r.headers[e.tokenHeaderName]=n.value;return e.nativeFetch.apply(i,[t,r])})):e.nativeFetch.apply(this,[t,r])}}}}]),e}());e.csrf=tc,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.js.map
